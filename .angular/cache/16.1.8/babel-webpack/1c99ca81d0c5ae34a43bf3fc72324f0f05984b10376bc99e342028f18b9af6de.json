{"ast":null,"code":"import { MatTableDataSource } from '@angular/material/table';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatSort } from '@angular/material/sort';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/finance/finance.service\";\nimport * as i2 from \"@angular/material/snack-bar\";\nimport * as i3 from \"src/app/services/data-sharing/data-sharing.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/material/icon\";\nimport * as i6 from \"@angular/material/form-field\";\nimport * as i7 from \"@angular/material/input\";\nimport * as i8 from \"@angular/material/table\";\nimport * as i9 from \"@angular/material/button\";\nimport * as i10 from \"@angular/material/paginator\";\nimport * as i11 from \"@angular/material/sort\";\nimport * as i12 from \"@angular/forms\";\nconst _c0 = [\"TABLE\"];\nfunction CustomerListComponent_mat_header_cell_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\", 23);\n    i0.ɵɵtext(1, \" ID \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CustomerListComponent_mat_cell_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r11 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", row_r11.PCODE, \" \");\n  }\n}\nfunction CustomerListComponent_mat_header_cell_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\", 23);\n    i0.ɵɵtext(1, \" Name \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CustomerListComponent_mat_cell_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r12 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", row_r12.CUST_NAME, \" \");\n  }\n}\nfunction CustomerListComponent_mat_header_cell_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\", 23);\n    i0.ɵɵtext(1, \" Tax\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CustomerListComponent_mat_cell_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r13 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", row_r13.TAX_1_NO, \" \");\n  }\n}\nfunction CustomerListComponent_mat_header_cell_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\", 23);\n    i0.ɵɵtext(1, \" Actions \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CustomerListComponent_mat_cell_33_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-cell\")(1, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function CustomerListComponent_mat_cell_33_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r16);\n      const row_r14 = restoredCtx.$implicit;\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.gotoCustomerDetails(\"/crm/customer/details\", row_r14.PCODE));\n    });\n    i0.ɵɵtext(2, \" View \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CustomerListComponent_mat_header_row_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-header-row\");\n  }\n}\nfunction CustomerListComponent_mat_row_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-row\", 25);\n  }\n}\nconst _c1 = function () {\n  return [5, 10, 25, 100];\n};\nexport let CustomerListComponent = /*#__PURE__*/(() => {\n  class CustomerListComponent {\n    constructor(financeservice, snackbar, dataSharing, router) {\n      this.financeservice = financeservice;\n      this.snackbar = snackbar;\n      this.dataSharing = dataSharing;\n      this.router = router;\n      this.currentYear = new Date().getFullYear();\n      this.customerlist = [];\n      this.customerlistDataSource = new MatTableDataSource(this.customerlist);\n      this.columnCustomer = [\"PCODE\", \"CUST_NAME\", \"TAX_1_NO\", \"Actions\"];\n    }\n    ngOnInit() {\n      this.financeservice.getCustomerList(String(this.currentYear)).subscribe(res => {\n        this.customerlist = res.recordset;\n        this.customerlistDataSource = new MatTableDataSource(this.customerlist);\n        this.customerlistDataSource.sort = this.sort;\n        this.customerlistDataSource.paginator = this.paginator;\n      }, error => {\n        console.log(error);\n      });\n    }\n    quickPartySearch() {\n      this.customerlistDataSource.filter = this.searchValue.trim().toLowerCase();\n    }\n    gotoCustomerDetails(url, id) {\n      var myurl = `${url}/${id}`;\n      this.router.navigateByUrl(myurl).then(e => {});\n    }\n    static #_ = this.ɵfac = function CustomerListComponent_Factory(t) {\n      return new (t || CustomerListComponent)(i0.ɵɵdirectiveInject(i1.FinanceService), i0.ɵɵdirectiveInject(i2.MatSnackBar), i0.ɵɵdirectiveInject(i3.DataSharingService), i0.ɵɵdirectiveInject(i4.Router));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CustomerListComponent,\n      selectors: [[\"app-customer-list\"]],\n      viewQuery: function CustomerListComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(MatPaginator, 5);\n          i0.ɵɵviewQuery(MatSort, 5);\n          i0.ɵɵviewQuery(_c0, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sort = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.table = _t.first);\n        }\n      },\n      decls: 38,\n      vars: 8,\n      consts: [[1, \"container-fluid\"], [1, \"row\", \"no-gutters\"], [1, \"visualization-heading\", \"col-12\"], [1, \"heading-info\", \"row\"], [1, \"col-10\"], [1, \"heading-title\"], [1, \"col-2\"], [\"mat-raised-button\", \"\", \"title\", \"Add New Customer\", 1, \"bg-primary\", \"text-white\", \"btn\", \"btn-block\", \"btn-sm\", 3, \"click\"], [1, \"row\"], [1, \"col-12\"], [\"matPrefix\", \"\"], [\"matInput\", \"\", \"type\", \"text\", \"placeholder\", \"Please Enter Your Seach Keyword to filter\", 2, \"color\", \"black\", 3, \"ngModel\", \"keyup\", \"ngModelChange\"], [\"matSort\", \"\", \"matSortDisableClear\", \"\", 1, \"mat-table\", 3, \"dataSource\", \"multiTemplateDataRows\"], [\"matColumnDef\", \"PCODE\"], [\"mat-sort-header\", \"\", 4, \"matHeaderCellDef\"], [4, \"matCellDef\"], [\"matColumnDef\", \"CUST_NAME\"], [\"matColumnDef\", \"TAX_1_NO\"], [\"matColumnDef\", \"Actions\"], [4, \"matHeaderRowDef\"], [\"matRipple\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"showFirstLastButtons\", \"\", 3, \"pageSize\", \"pageSizeOptions\"], [\"paginator\", \"\"], [\"mat-sort-header\", \"\"], [\"md-raised-button\", \"\", \"color\", \"primary\", 1, \"btn-w-md\", \"ml-2\", \"mat-button\", \"text-white\", 2, \"border-radius\", \"50%\", 3, \"click\"], [\"matRipple\", \"\"]],\n      template: function CustomerListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h3\", 5);\n          i0.ɵɵtext(6, \"Customer List\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(7, \"div\", 6)(8, \"button\", 7);\n          i0.ɵɵlistener(\"click\", function CustomerListComponent_Template_button_click_8_listener() {\n            return ctx.gotoCustomerDetails(\"/crm/customer/details\", \"new\");\n          });\n          i0.ɵɵelementStart(9, \"mat-icon\");\n          i0.ɵɵtext(10, \"add\");\n          i0.ɵɵelementEnd()()()()()();\n          i0.ɵɵelementStart(11, \"div\", 8)(12, \"div\", 9)(13, \"b\");\n          i0.ɵɵtext(14, \"Search\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"mat-form-field\")(16, \"mat-icon\", 10);\n          i0.ɵɵtext(17, \"search\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"input\", 11);\n          i0.ɵɵlistener(\"keyup\", function CustomerListComponent_Template_input_keyup_18_listener() {\n            return ctx.quickPartySearch();\n          })(\"ngModelChange\", function CustomerListComponent_Template_input_ngModelChange_18_listener($event) {\n            return ctx.searchValue = $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelement(19, \"hr\");\n          i0.ɵɵelementStart(20, \"div\", 9)(21, \"mat-table\", 12);\n          i0.ɵɵelementContainerStart(22, 13);\n          i0.ɵɵtemplate(23, CustomerListComponent_mat_header_cell_23_Template, 2, 0, \"mat-header-cell\", 14);\n          i0.ɵɵtemplate(24, CustomerListComponent_mat_cell_24_Template, 2, 1, \"mat-cell\", 15);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(25, 16);\n          i0.ɵɵtemplate(26, CustomerListComponent_mat_header_cell_26_Template, 2, 0, \"mat-header-cell\", 14);\n          i0.ɵɵtemplate(27, CustomerListComponent_mat_cell_27_Template, 2, 1, \"mat-cell\", 15);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(28, 17);\n          i0.ɵɵtemplate(29, CustomerListComponent_mat_header_cell_29_Template, 2, 0, \"mat-header-cell\", 14);\n          i0.ɵɵtemplate(30, CustomerListComponent_mat_cell_30_Template, 2, 1, \"mat-cell\", 15);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(31, 18);\n          i0.ɵɵtemplate(32, CustomerListComponent_mat_header_cell_32_Template, 2, 0, \"mat-header-cell\", 14);\n          i0.ɵɵtemplate(33, CustomerListComponent_mat_cell_33_Template, 3, 0, \"mat-cell\", 15);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵtemplate(34, CustomerListComponent_mat_header_row_34_Template, 1, 0, \"mat-header-row\", 19);\n          i0.ɵɵtemplate(35, CustomerListComponent_mat_row_35_Template, 1, 0, \"mat-row\", 20);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(36, \"mat-paginator\", 21, 22);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(18);\n          i0.ɵɵproperty(\"ngModel\", ctx.searchValue);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"dataSource\", ctx.customerlistDataSource)(\"multiTemplateDataRows\", true);\n          i0.ɵɵadvance(13);\n          i0.ɵɵproperty(\"matHeaderRowDef\", ctx.columnCustomer);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"matRowDefColumns\", ctx.columnCustomer);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"pageSize\", 50)(\"pageSizeOptions\", i0.ɵɵpureFunction0(7, _c1));\n        }\n      },\n      dependencies: [i5.MatIcon, i6.MatFormField, i6.MatPrefix, i7.MatInput, i8.MatTable, i8.MatHeaderCellDef, i8.MatHeaderRowDef, i8.MatColumnDef, i8.MatCellDef, i8.MatRowDef, i8.MatHeaderCell, i8.MatCell, i8.MatHeaderRow, i8.MatRow, i9.MatButton, i10.MatPaginator, i11.MatSort, i11.MatSortHeader, i12.DefaultValueAccessor, i12.NgControlStatus, i12.NgModel],\n      styles: [\".full-width[_ngcontent-%COMP%]{width:100%;height:40%}mat-form-field[_ngcontent-%COMP%]{font-size:13px;width:100%;height:75%}.container-fluid[_ngcontent-%COMP%]{color:#00008b;background:rgb(251,252,249)}.highlight[_ngcontent-%COMP%]{background:lightgray}tr[_ngcontent-%COMP%]:focus{outline:none}\"]\n    });\n  }\n  return CustomerListComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}