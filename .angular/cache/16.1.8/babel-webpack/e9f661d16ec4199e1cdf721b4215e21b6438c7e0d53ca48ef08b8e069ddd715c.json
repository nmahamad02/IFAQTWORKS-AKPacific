{"ast":null,"code":"import { LOCALE_ID } from '@angular/core';\nimport { UntypedFormGroup, UntypedFormControl, Validators, UntypedFormArray } from '@angular/forms';\nimport { MatTableDataSource } from '@angular/material/table';\nimport * as converter from 'number-to-words';\nimport jsPDF from 'jspdf';\nimport 'jspdf-autotable';\nimport autoTable from 'jspdf-autotable';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"src/app/services/quotations/quotations.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"src/app/services/finance/finance.service\";\nimport * as i5 from \"src/app/services/products/products.service\";\nimport * as i6 from \"@angular/material/snack-bar\";\nimport * as i7 from \"@angular/material/icon\";\nimport * as i8 from \"@angular/common\";\nimport * as i9 from \"@angular/material/form-field\";\nimport * as i10 from \"@angular/material/input\";\nimport * as i11 from \"@angular/material/datepicker\";\nimport * as i12 from \"@angular/material/table\";\nimport * as i13 from \"@angular/material/button\";\nimport * as i14 from \"@angular/material/select\";\nimport * as i15 from \"@angular/material/core\";\nimport * as i16 from \"@angular/material/divider\";\nimport * as i17 from \"@angular/forms\";\nconst _c0 = [\"priceLookUpDialog\"];\nconst _c1 = [\"custLookupDialog\"];\nconst _c2 = [\"prodLookupDialog\"];\nconst _c3 = [\"prodDetailsDialog\"];\nconst _c4 = [\"prodTable\"];\nfunction QuotationsDetailsComponent_tr_154_option_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 85);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const unit_r20 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", unit_r20.UNIT_CODE);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", unit_r20.UNIT_DESCRIPTION, \" \");\n  }\n}\nfunction QuotationsDetailsComponent_tr_154_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 72)(1, \"td\")(2, \"button\", 73);\n    i0.ɵɵlistener(\"click\", function QuotationsDetailsComponent_tr_154_Template_button_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r22);\n      const i_r16 = restoredCtx.index;\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.getProductDetails(i_r16));\n    });\n    i0.ɵɵtext(3, \"\\u24D8\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵelement(5, \"input\", 74);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\")(7, \"input\", 75, 76);\n    i0.ɵɵlistener(\"keydown.f2\", function QuotationsDetailsComponent_tr_154_Template_input_keydown_f2_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r22);\n      const i_r16 = restoredCtx.index;\n      const _r17 = i0.ɵɵreference(8);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.lookupProductDetails(_r17.value, i_r16));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"td\")(10, \"textarea\", 77, 78);\n    i0.ɵɵlistener(\"keydown.f2\", function QuotationsDetailsComponent_tr_154_Template_textarea_keydown_f2_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r22);\n      const i_r16 = restoredCtx.index;\n      const _r18 = i0.ɵɵreference(11);\n      const ctx_r24 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r24.lookupProductDetails(_r18.value, i_r16));\n    });\n    i0.ɵɵtext(12, \"                                    \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"td\")(14, \"select\", 79);\n    i0.ɵɵtemplate(15, QuotationsDetailsComponent_tr_154_option_15_Template, 2, 2, \"option\", 80);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"td\");\n    i0.ɵɵelement(17, \"input\", 81);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\");\n    i0.ɵɵelement(19, \"input\", 82);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"td\")(21, \"input\", 83);\n    i0.ɵɵlistener(\"keydown.f2\", function QuotationsDetailsComponent_tr_154_Template_input_keydown_f2_21_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r22);\n      const i_r16 = restoredCtx.index;\n      const ctx_r25 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r25.lookupPriceDialog(i_r16));\n    })(\"valueChange\", function QuotationsDetailsComponent_tr_154_Template_input_valueChange_21_listener() {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r26 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r26.calibrateTotal());\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"td\")(23, \"button\", 84);\n    i0.ɵɵlistener(\"click\", function QuotationsDetailsComponent_tr_154_Template_button_click_23_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r22);\n      const i_r16 = restoredCtx.index;\n      const ctx_r27 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r27.deleteProductItem(i_r16));\n    });\n    i0.ɵɵtext(24, \"\\u2715\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const i_r16 = ctx.index;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroupName\", i_r16);\n    i0.ɵɵadvance(15);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.unitArr);\n  }\n}\nfunction QuotationsDetailsComponent_ng_template_190_mat_option_59_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 85);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const tax_r29 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", tax_r29);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", tax_r29.TAX_CATEGORY_NAME, \" \");\n  }\n}\nfunction QuotationsDetailsComponent_ng_template_190_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r31 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"h3\", 86)(1, \"b\");\n    i0.ɵɵtext(2, \"Manage Prices\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(3, \"hr\");\n    i0.ɵɵelementStart(4, \"form\", 14)(5, \"div\", 6)(6, \"div\", 26)(7, \"mat-form-field\", 17)(8, \"mat-label\");\n    i0.ɵɵtext(9, \"Remarks\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"input\", 87);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 16)(12, \"mat-form-field\", 17)(13, \"mat-label\");\n    i0.ɵɵtext(14, \"Product Code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"input\", 88);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 7)(17, \"mat-form-field\", 17)(18, \"mat-label\");\n    i0.ɵɵtext(19, \"Product Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(20, \"input\", 89);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(21, \"div\", 6)(22, \"div\", 16)(23, \"mat-form-field\", 17)(24, \"mat-label\");\n    i0.ɵɵtext(25, \"Quantity\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"input\", 90);\n    i0.ɵɵlistener(\"change\", function QuotationsDetailsComponent_ng_template_190_Template_input_change_26_listener() {\n      i0.ɵɵrestoreView(_r31);\n      const ctx_r30 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r30.calcPrice());\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(27, \"div\", 16)(28, \"mat-form-field\", 17)(29, \"mat-label\");\n    i0.ɵɵtext(30, \"Unit Price\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"input\", 91);\n    i0.ɵɵlistener(\"change\", function QuotationsDetailsComponent_ng_template_190_Template_input_change_31_listener() {\n      i0.ɵɵrestoreView(_r31);\n      const ctx_r32 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r32.calcPrice());\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(32, \"div\", 16)(33, \"mat-form-field\", 17)(34, \"mat-label\");\n    i0.ɵɵtext(35, \"Value\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(36, \"input\", 92);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(37, \"div\", 6)(38, \"div\", 16)(39, \"mat-form-field\", 17)(40, \"mat-label\");\n    i0.ɵɵtext(41, \"Discount %\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"input\", 93);\n    i0.ɵɵlistener(\"change\", function QuotationsDetailsComponent_ng_template_190_Template_input_change_42_listener() {\n      i0.ɵɵrestoreView(_r31);\n      const ctx_r33 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r33.calcDiscount());\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(43, \"div\", 16)(44, \"mat-form-field\", 17)(45, \"mat-label\");\n    i0.ɵɵtext(46, \"Discount Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(47, \"input\", 94);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(48, \"div\", 16)(49, \"mat-form-field\", 17)(50, \"mat-label\");\n    i0.ɵɵtext(51, \"Amount after discount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(52, \"input\", 95);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(53, \"div\", 6)(54, \"div\", 16)(55, \"mat-form-field\", 17)(56, \"mat-label\");\n    i0.ɵɵtext(57, \"Tax Category\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(58, \"mat-select\", 96);\n    i0.ɵɵlistener(\"valueChange\", function QuotationsDetailsComponent_ng_template_190_Template_mat_select_valueChange_58_listener($event) {\n      i0.ɵɵrestoreView(_r31);\n      const ctx_r34 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r34.calcTax($event));\n    });\n    i0.ɵɵtemplate(59, QuotationsDetailsComponent_ng_template_190_mat_option_59_Template, 2, 2, \"mat-option\", 80);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(60, \"div\", 16)(61, \"mat-form-field\", 17)(62, \"mat-label\");\n    i0.ɵɵtext(63, \"VAT Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(64, \"input\", 97);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(65, \"div\", 16)(66, \"mat-form-field\", 17)(67, \"mat-label\");\n    i0.ɵɵtext(68, \"Net Value\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(69, \"input\", 98);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(70, \"mat-dialog-actions\", 99)(71, \"button\", 55);\n    i0.ɵɵlistener(\"click\", function QuotationsDetailsComponent_ng_template_190_Template_button_click_71_listener() {\n      i0.ɵɵrestoreView(_r31);\n      const ctx_r35 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r35.submitPrice());\n    });\n    i0.ɵɵtext(72, \"Submit\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formGroup\", ctx_r6.valueForm);\n    i0.ɵɵadvance(55);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r6.taxArr);\n  }\n}\nfunction QuotationsDetailsComponent_ng_template_193_th_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 110);\n    i0.ɵɵtext(1, \" PCode\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction QuotationsDetailsComponent_ng_template_193_td_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 111);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const cust_r44 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", cust_r44.PCODE, \" \");\n  }\n}\nfunction QuotationsDetailsComponent_ng_template_193_th_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 110);\n    i0.ɵɵtext(1, \" Name \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction QuotationsDetailsComponent_ng_template_193_td_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 111);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const cust_r45 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", cust_r45.CUST_NAME, \" \");\n  }\n}\nfunction QuotationsDetailsComponent_ng_template_193_th_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 110);\n    i0.ɵɵtext(1, \" Tax Number \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction QuotationsDetailsComponent_ng_template_193_td_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 111);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const cust_r46 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", cust_r46.TAX_1_NO, \" \");\n  }\n}\nfunction QuotationsDetailsComponent_ng_template_193_tr_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 112);\n  }\n}\nconst _c5 = function (a0) {\n  return {\n    \"highlight\": a0\n  };\n};\nfunction QuotationsDetailsComponent_ng_template_193_tr_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r50 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 113);\n    i0.ɵɵlistener(\"click\", function QuotationsDetailsComponent_ng_template_193_tr_16_Template_tr_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r50);\n      const i_r48 = restoredCtx.index;\n      const ctx_r49 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r49.highlight(\"cust\", i_r48));\n    })(\"keydown.arrowdown\", function QuotationsDetailsComponent_ng_template_193_tr_16_Template_tr_keydown_arrowdown_0_listener() {\n      i0.ɵɵrestoreView(_r50);\n      const ctx_r51 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r51.arrowDownEvent(\"cust\", ctx_r51.selectedRowIndex));\n    })(\"keydown.arrowup\", function QuotationsDetailsComponent_ng_template_193_tr_16_Template_tr_keydown_arrowup_0_listener() {\n      i0.ɵɵrestoreView(_r50);\n      const ctx_r52 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r52.arrowUpEvent(\"cust\", ctx_r52.selectedRowIndex));\n    })(\"keydown.enter\", function QuotationsDetailsComponent_ng_template_193_tr_16_Template_tr_keydown_enter_0_listener() {\n      i0.ɵɵrestoreView(_r50);\n      const ctx_r53 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r53.selectCustomer(ctx_r53.custArr[ctx_r53.selectedRowIndex]));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r48 = ctx.index;\n    const ctx_r43 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(1, _c5, ctx_r43.selectedRowIndex == i_r48));\n  }\n}\nfunction QuotationsDetailsComponent_ng_template_193_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h4\", 86)(1, \"b\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(3, \"hr\");\n    i0.ɵɵelementStart(4, \"div\", 100)(5, \"table\", 101);\n    i0.ɵɵelementContainerStart(6, 102);\n    i0.ɵɵtemplate(7, QuotationsDetailsComponent_ng_template_193_th_7_Template, 2, 0, \"th\", 103);\n    i0.ɵɵtemplate(8, QuotationsDetailsComponent_ng_template_193_td_8_Template, 2, 1, \"td\", 104);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(9, 105);\n    i0.ɵɵtemplate(10, QuotationsDetailsComponent_ng_template_193_th_10_Template, 2, 0, \"th\", 103);\n    i0.ɵɵtemplate(11, QuotationsDetailsComponent_ng_template_193_td_11_Template, 2, 1, \"td\", 104);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(12, 106);\n    i0.ɵɵtemplate(13, QuotationsDetailsComponent_ng_template_193_th_13_Template, 2, 0, \"th\", 103);\n    i0.ɵɵtemplate(14, QuotationsDetailsComponent_ng_template_193_td_14_Template, 2, 1, \"td\", 104);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵtemplate(15, QuotationsDetailsComponent_ng_template_193_tr_15_Template, 1, 0, \"tr\", 107);\n    i0.ɵɵtemplate(16, QuotationsDetailsComponent_ng_template_193_tr_16_Template, 1, 3, \"tr\", 108);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"mat-dialog-actions\", 99)(18, \"button\", 109);\n    i0.ɵɵtext(19, \"Close\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Look up Customers: \", ctx_r8.custArr.length, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"dataSource\", ctx_r8.custDataSource);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"matHeaderRowDef\", ctx_r8.custDisplayedColumns);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"matRowDefColumns\", ctx_r8.custDisplayedColumns);\n  }\n}\nfunction QuotationsDetailsComponent_ng_template_196_th_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 110);\n    i0.ɵɵtext(1, \" PCode\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction QuotationsDetailsComponent_ng_template_196_td_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 111);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const prod_r64 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", prod_r64.PCODE, \" \");\n  }\n}\nfunction QuotationsDetailsComponent_ng_template_196_th_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 110);\n    i0.ɵɵtext(1, \" Description \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction QuotationsDetailsComponent_ng_template_196_td_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 111);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const prod_r65 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", prod_r65.DESCRIPTION, \" \");\n  }\n}\nfunction QuotationsDetailsComponent_ng_template_196_th_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 110);\n    i0.ɵɵtext(1, \" Retail Price \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction QuotationsDetailsComponent_ng_template_196_td_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 111);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const prod_r66 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"AED \", i0.ɵɵpipeBind2(2, 1, prod_r66.RETAILPRICE, \"2.0-2\"), \" \");\n  }\n}\nfunction QuotationsDetailsComponent_ng_template_196_th_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 110);\n    i0.ɵɵtext(1, \" Barcode \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction QuotationsDetailsComponent_ng_template_196_td_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 111);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const prod_r67 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", prod_r67.BARCODE, \" \");\n  }\n}\nfunction QuotationsDetailsComponent_ng_template_196_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 112);\n  }\n}\nfunction QuotationsDetailsComponent_ng_template_196_tr_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r71 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 113);\n    i0.ɵɵlistener(\"click\", function QuotationsDetailsComponent_ng_template_196_tr_19_Template_tr_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r71);\n      const i_r69 = restoredCtx.index;\n      const ctx_r70 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r70.highlight(\"prod\", i_r69));\n    })(\"keydown.arrowdown\", function QuotationsDetailsComponent_ng_template_196_tr_19_Template_tr_keydown_arrowdown_0_listener() {\n      i0.ɵɵrestoreView(_r71);\n      const ctx_r72 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r72.arrowDownEvent(\"prod\", ctx_r72.selectedRowIndex));\n    })(\"keydown.arrowup\", function QuotationsDetailsComponent_ng_template_196_tr_19_Template_tr_keydown_arrowup_0_listener() {\n      i0.ɵɵrestoreView(_r71);\n      const ctx_r73 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r73.arrowUpEvent(\"prod\", ctx_r73.selectedRowIndex));\n    })(\"keydown.enter\", function QuotationsDetailsComponent_ng_template_196_tr_19_Template_tr_keydown_enter_0_listener() {\n      i0.ɵɵrestoreView(_r71);\n      const ctx_r74 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r74.selectProduct(ctx_r74.prodArr[ctx_r74.selectedRowIndex]));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r69 = ctx.index;\n    const ctx_r63 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(1, _c5, ctx_r63.selectedRowIndex == i_r69));\n  }\n}\nfunction QuotationsDetailsComponent_ng_template_196_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h4\", 86)(1, \"b\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(3, \"hr\");\n    i0.ɵɵelementStart(4, \"div\", 100)(5, \"table\", 101);\n    i0.ɵɵelementContainerStart(6, 102);\n    i0.ɵɵtemplate(7, QuotationsDetailsComponent_ng_template_196_th_7_Template, 2, 0, \"th\", 103);\n    i0.ɵɵtemplate(8, QuotationsDetailsComponent_ng_template_196_td_8_Template, 2, 1, \"td\", 104);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(9, 114);\n    i0.ɵɵtemplate(10, QuotationsDetailsComponent_ng_template_196_th_10_Template, 2, 0, \"th\", 103);\n    i0.ɵɵtemplate(11, QuotationsDetailsComponent_ng_template_196_td_11_Template, 2, 1, \"td\", 104);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(12, 115);\n    i0.ɵɵtemplate(13, QuotationsDetailsComponent_ng_template_196_th_13_Template, 2, 0, \"th\", 103);\n    i0.ɵɵtemplate(14, QuotationsDetailsComponent_ng_template_196_td_14_Template, 3, 4, \"td\", 104);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(15, 116);\n    i0.ɵɵtemplate(16, QuotationsDetailsComponent_ng_template_196_th_16_Template, 2, 0, \"th\", 103);\n    i0.ɵɵtemplate(17, QuotationsDetailsComponent_ng_template_196_td_17_Template, 2, 1, \"td\", 104);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵtemplate(18, QuotationsDetailsComponent_ng_template_196_tr_18_Template, 1, 0, \"tr\", 107);\n    i0.ɵɵtemplate(19, QuotationsDetailsComponent_ng_template_196_tr_19_Template, 1, 3, \"tr\", 108);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"mat-dialog-actions\", 99)(21, \"button\", 109);\n    i0.ɵɵtext(22, \"Close\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Look up Products: \", ctx_r10.prodArr.length, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"dataSource\", ctx_r10.prodDataSource);\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"matHeaderRowDef\", ctx_r10.prodDisplayedColumns);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"matRowDefColumns\", ctx_r10.prodDisplayedColumns);\n  }\n}\nfunction QuotationsDetailsComponent_ng_template_199_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵelement(1, \"img\", 118);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const slide_r76 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", slide_r76.src, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction QuotationsDetailsComponent_ng_template_199_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h4\", 86)(1, \"b\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(3, \"hr\");\n    i0.ɵɵelementStart(4, \"div\", 100)(5, \"h5\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 6);\n    i0.ɵɵtemplate(8, QuotationsDetailsComponent_ng_template_199_div_8_Template, 2, 1, \"div\", 117);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"mat-dialog-actions\", 99)(10, \"button\", 109);\n    i0.ɵɵtext(11, \"Close\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Look up Product: \", ctx_r12.prodDetails.PCODE, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r12.prodDetails.DESCRIPTION);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r12.slides);\n  }\n}\nfunction QuotationsDetailsComponent_tr_222_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵelement(10, \"img\", 119);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\");\n    i0.ɵɵtext(17);\n    i0.ɵɵpipe(18, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const prod_r77 = ctx.$implicit;\n    const i_r78 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r78 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(prod_r77.boqNo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(prod_r77.prodCode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(prod_r77.prodDesc);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", \"https://ifaqtworks-akpacific.s3.me-south-1.amazonaws.com/images/\" + prod_r77.prodImg, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(prod_r77.prodQty);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(15, 8, prod_r77.unitPrice, \"2.2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(18, 11, prod_r77.netValue, \"2.2\"));\n  }\n}\nconst _c6 = function () {\n  return [\"/crm/quotation-list\"];\n};\nexport let QuotationsDetailsComponent = /*#__PURE__*/(() => {\n  class QuotationsDetailsComponent {\n    constructor(dialog, quotationService, route, financeService, productService, _snackBar, locale) {\n      this.dialog = dialog;\n      this.quotationService = quotationService;\n      this.route = route;\n      this.financeService = financeService;\n      this.productService = productService;\n      this._snackBar = _snackBar;\n      this.locale = locale;\n      this.uC = JSON.parse(localStorage.getItem('userid'));\n      this.utc = new Date();\n      this.mCurDate = this.formatDate(this.utc);\n      this.mCMonth = new Date().getMonth();\n      this.mCYear = new Date().getFullYear();\n      this.forwardDate = new Date(new Date().setDate(this.utc.getDate() + 30));\n      this.nNewDate = this.formatDate(this.forwardDate);\n      this.prodDetailsArr = [];\n      this.slides = [];\n      this.custArr = [];\n      this.prodArr = [];\n      this.taxArr = [];\n      this.unitArr = [];\n      this.selectedRowIndex = 0;\n      this.productIndex = 0;\n      this.custDisplayedColumns = [\"PCODE\", \"CUST_NAME\", \"TAX_1_NO\"];\n      this.custDataSource = new MatTableDataSource(this.custArr);\n      this.prodDisplayedColumns = [\"PCODE\", \"DESCRIPTION\", \"RETAILPRICE\", \"BARCODE\"];\n      this.prodDataSource = new MatTableDataSource(this.prodArr);\n      this.mQtnTotal = 0;\n      this.mQtnVAT = 0;\n      this.mQtnDisc = 0;\n      this.mQtnGTotal = 0;\n      this.mQtnNumToWords = '';\n      this.quotForm = new UntypedFormGroup({\n        quotNo: new UntypedFormControl('', [Validators.required]),\n        quotDate: new UntypedFormControl('', [Validators.required]),\n        quotExpDate: new UntypedFormControl('', [Validators.required]),\n        pcode: new UntypedFormControl('', [Validators.required]),\n        custName: new UntypedFormControl('', [Validators.required]),\n        quotStatus: new UntypedFormControl('', [Validators.required]),\n        subject: new UntypedFormControl('', [Validators.required]),\n        remarks: new UntypedFormControl('', [Validators.required]),\n        description: new UntypedFormControl('', [Validators.required]),\n        custPhone1: new UntypedFormControl('', [Validators.required]),\n        custPhone2: new UntypedFormControl('', [Validators.required]),\n        custEmail: new UntypedFormControl('', [Validators.required]),\n        custAdd1: new UntypedFormControl('', [Validators.required]),\n        custAdd2: new UntypedFormControl('', [Validators.required]),\n        custAdd3: new UntypedFormControl('', [Validators.required]),\n        contactId: new UntypedFormControl('', [Validators.required]),\n        itemArr: new UntypedFormArray([])\n      });\n      this.valueForm = new UntypedFormGroup({\n        index: new UntypedFormControl('', [Validators.required]),\n        boqNo: new UntypedFormControl('', [Validators.required]),\n        prodCode: new UntypedFormControl('', [Validators.required]),\n        prodUnit: new UntypedFormControl('', [Validators.required]),\n        prodDesc: new UntypedFormControl('', [Validators.required]),\n        quantity: new UntypedFormControl('', [Validators.required]),\n        unitPrice: new UntypedFormControl('', [Validators.required]),\n        value: new UntypedFormControl('', [Validators.required]),\n        discPercentage: new UntypedFormControl('', [Validators.required]),\n        discount: new UntypedFormControl('', [Validators.required]),\n        amount: new UntypedFormControl('', [Validators.required]),\n        vatCategory: new UntypedFormControl('', [Validators.required]),\n        vatPer: new UntypedFormControl('', [Validators.required]),\n        vatAmount: new UntypedFormControl('', [Validators.required]),\n        netValue: new UntypedFormControl('', [Validators.required]),\n        remarks: new UntypedFormControl('', [Validators.required])\n      });\n    }\n    ngOnInit() {\n      if (this.route.snapshot.params.id === 'new') {\n        this.newForm();\n      } else {\n        this.getData(this.route.snapshot.params.id);\n      }\n      this.financeService.getTaxCategory().subscribe(res => {\n        this.taxArr = res.recordset;\n      }, err => {\n        console.log(err);\n      });\n      this.financeService.getUnit().subscribe(res => {\n        this.unitArr = res.recordset;\n      }, err => {\n        console.log(err);\n      });\n    }\n    newForm() {\n      this.mQtnTotal = 0;\n      this.mQtnDisc = 0;\n      this.mQtnVAT = 0;\n      this.mQtnGTotal = 0;\n      this.quotationService.getQuotNoFromDoc(String(this.mCYear)).subscribe(res => {\n        this.docQtnNo = res.recordset[0].FIELD_VALUE_NM + 1;\n        var newQtnNo = 'AKPI-' + this.docQtnNo + '-' + String(this.mCMonth) + String(this.mCYear);\n        this.quotForm = new UntypedFormGroup({\n          quotNo: new UntypedFormControl(newQtnNo, [Validators.required]),\n          quotDate: new UntypedFormControl(this.mCurDate, [Validators.required]),\n          quotExpDate: new UntypedFormControl(this.forwardDate, [Validators.required]),\n          pcode: new UntypedFormControl('', [Validators.required]),\n          custName: new UntypedFormControl('', [Validators.required]),\n          quotStatus: new UntypedFormControl('O', [Validators.required]),\n          subject: new UntypedFormControl('', [Validators.required]),\n          remarks: new UntypedFormControl('', [Validators.required]),\n          description: new UntypedFormControl('', [Validators.required]),\n          custPhone1: new UntypedFormControl('', [Validators.required]),\n          custPhone2: new UntypedFormControl('', [Validators.required]),\n          custEmail: new UntypedFormControl('', [Validators.required]),\n          custAdd1: new UntypedFormControl('', [Validators.required]),\n          custAdd2: new UntypedFormControl('', [Validators.required]),\n          custAdd3: new UntypedFormControl('', [Validators.required]),\n          contactId: new UntypedFormControl('', [Validators.required]),\n          itemArr: new UntypedFormArray([])\n        });\n        this.valueForm = new UntypedFormGroup({\n          index: new UntypedFormControl('', [Validators.required]),\n          boqNo: new UntypedFormControl('', [Validators.required]),\n          prodCode: new UntypedFormControl('', [Validators.required]),\n          prodUnit: new UntypedFormControl('', [Validators.required]),\n          prodDesc: new UntypedFormControl('', [Validators.required]),\n          quantity: new UntypedFormControl('', [Validators.required]),\n          unitPrice: new UntypedFormControl('', [Validators.required]),\n          value: new UntypedFormControl('', [Validators.required]),\n          discPercentage: new UntypedFormControl(0, [Validators.required]),\n          discount: new UntypedFormControl('', [Validators.required]),\n          amount: new UntypedFormControl('', [Validators.required]),\n          vatCategory: new UntypedFormControl('', [Validators.required]),\n          vatPer: new UntypedFormControl('', [Validators.required]),\n          vatAmount: new UntypedFormControl('', [Validators.required]),\n          netValue: new UntypedFormControl('', [Validators.required]),\n          remarks: new UntypedFormControl('', [Validators.required])\n        });\n      });\n    }\n    getData(quotNo) {\n      this.quotationService.getQuotationMaster(quotNo).subscribe(res => {\n        console.log(res);\n        this.financeService.getCustomerDetailFromPcode(String(this.mCYear), res.recordset[0].PCODE).subscribe(resp => {\n          console.log(res);\n          this.quotForm = new UntypedFormGroup({\n            quotNo: new UntypedFormControl(res.recordset[0].QUOTNO, [Validators.required]),\n            quotDate: new UntypedFormControl(this.formatDate(res.recordset[0].QUOTDATE), [Validators.required]),\n            quotExpDate: new UntypedFormControl(res.recordset[0].EXPIRY_DATE, [Validators.required]),\n            pcode: new UntypedFormControl(resp.recordset[0].PCODE, [Validators.required]),\n            custName: new UntypedFormControl(resp.recordset[0].CUST_NAME, [Validators.required]),\n            quotStatus: new UntypedFormControl(res.recordset[0].STATUS, [Validators.required]),\n            subject: new UntypedFormControl(res.recordset[0].SUBJECT, [Validators.required]),\n            remarks: new UntypedFormControl(res.recordset[0].REMARKS, [Validators.required]),\n            description: new UntypedFormControl(res.recordset[0].DESC1, [Validators.required]),\n            custPhone1: new UntypedFormControl(resp.recordset[0].PHONE1, [Validators.required]),\n            custPhone2: new UntypedFormControl(resp.recordset[0].PHONE2, [Validators.required]),\n            custEmail: new UntypedFormControl(resp.recordset[0].EMAIL, [Validators.required]),\n            custAdd1: new UntypedFormControl(resp.recordset[0].ADD1, [Validators.required]),\n            custAdd2: new UntypedFormControl(resp.recordset[0].ADD2, [Validators.required]),\n            custAdd3: new UntypedFormControl(resp.recordset[0].ADD3, [Validators.required]),\n            contactId: new UntypedFormControl(resp.recordset[0].CONTACT, [Validators.required]),\n            itemArr: new UntypedFormArray([])\n          });\n          this.mQtnTotal = Number(res.recordset[0].TOTAL);\n          this.mQtnDisc = Number(res.recordset[0].DISCOUNT);\n          this.mQtnVAT = Number(res.recordset[0].TAX_1_AMT);\n          this.mQtnGTotal = Number(res.recordset[0].GTOTAL);\n          this.mQtnNumToWords = converter.toWords(res.recordset[0].GTOTAL);\n          this.quotationService.getQuotationDetails(quotNo).subscribe(resp => {\n            console.log(resp);\n            for (let i = 0; i < resp.recordset.length; i++) {\n              const prodGrid = new UntypedFormGroup({\n                boqNo: new UntypedFormControl(resp.recordset[i].JOB_NO, [Validators.required]),\n                prodCode: new UntypedFormControl(resp.recordset[i].ITCODE, [Validators.required]),\n                prodDesc: new UntypedFormControl(resp.recordset[i].DESCRIPTION, [Validators.required]),\n                prodUnit: new UntypedFormControl(resp.recordset[i].UNITTYPE, [Validators.required]),\n                prodQty: new UntypedFormControl(resp.recordset[i].TOTQTY, [Validators.required]),\n                unitPrice: new UntypedFormControl(resp.recordset[i].PRICE, [Validators.required]),\n                value: new UntypedFormControl(Number(resp.recordset[i].TOTQTY) * Number(resp.recordset[i].PRICE), [Validators.required]),\n                discPercentage: new UntypedFormControl(resp.recordset[i].DISPER, [Validators.required]),\n                discount: new UntypedFormControl(resp.recordset[i].DISAMT, [Validators.required]),\n                vatCategory: new UntypedFormControl(resp.recordset[i].TAX_CATEGORY_ID, [Validators.required]),\n                vatPer: new UntypedFormControl(resp.recordset[i].TAX_1_PER, [Validators.required]),\n                vatAmount: new UntypedFormControl(resp.recordset[i].TAX_1_AMT, [Validators.required]),\n                netValue: new UntypedFormControl(resp.recordset[i].AMOUNT, [Validators.required]),\n                remarks: new UntypedFormControl(resp.recordset[i].DESC1, [Validators.required])\n              });\n              this.prodItem.push(prodGrid);\n              this.productService.getProductDocuments(resp.recordset[i].ITCODE, 'IMG').subscribe(respo => {\n                const prodDet = {\n                  index: i,\n                  boqNo: resp.recordset[i].JOB_NO,\n                  prodCode: resp.recordset[i].ITCODE,\n                  prodDesc: resp.recordset[i].DESCRIPTION,\n                  prodImg: respo.recordset[0].DOCUMENTNAME,\n                  prodQty: resp.recordset[i].TOTQTY,\n                  prodUnit: resp.recordset[i].UNITTYPE,\n                  unitPrice: resp.recordset[i].PRICE,\n                  netValue: resp.recordset[i].AMOUNT\n                };\n                this.prodDetailsArr.push(prodDet);\n              });\n            }\n          });\n        });\n        this.financeService.getPartyDetailFromPCODE(res.recordset[0].PCODE).subscribe(res => {\n          this.custDetails = res.recordset[0];\n          console.log(this.custDetails);\n        });\n      });\n    }\n    submitForm() {\n      const data = this.quotForm.value;\n      console.log(data.quotNo);\n      this.quotationService.getQuotationMaster(data.quotNo).subscribe(res => {\n        if (res.recordset.length === 0) {\n          this.quotationService.postQuotationMaster(data.quotNo, this.formatDate(data.quotDate), data.quotStatus, this.formatDate(data.quotExpDate), data.pcode, data.contactId, data.custName, data.custAdd1, data.custAdd2, data.custAdd3, data.custPhone1, String(this.mQtnTotal), String(this.mQtnDisc), String(this.mQtnVAT), String(this.mQtnGTotal), data.subject, data.description, data.remarks, String(this.mCYear), this.uC);\n          for (let i = 0; i < data.itemArr.length; i++) {\n            this.quotationService.postQuotationDetails(data.quotNo, data.itemArr[i].prodDesc, data.itemArr[i].remarks, data.itemArr[i].prodQty, data.itemArr[i].prodCode, data.itemArr[i].unitPrice, data.itemArr[i].netValue, data.itemArr[i].discPercentage, data.itemArr[i].discount, data.itemArr[i].vatCategory, data.itemArr[i].vatPer, data.itemArr[i].vatAmount, data.itemArr[i].prodUnit, data.itemArr[i].boqNo, this.uC, String(this.mCYear));\n          }\n          this.quotationService.updateQuotDocNo(this.docQtnNo, String(this.mCYear));\n        } else {\n          this.quotationService.updateQuotationMaster(data.quotNo, data.quotStatus, this.formatDate(data.quotExpDate), data.pcode, data.contactId, data.custName, data.custAdd1, data.custAdd2, data.custAdd3, data.custPhone1, String(this.mQtnTotal), String(this.mQtnDisc), String(this.mQtnVAT), String(this.mQtnGTotal), data.subject, data.description, data.remarks);\n          this.quotationService.deleteQuotationDetails(data.quotNo).subscribe(res => {\n            for (let i = 0; i < data.itemArr.length; i++) {\n              this.quotationService.postQuotationDetails(data.quotNo, data.itemArr[i].prodDesc, data.itemArr[i].remarks, data.itemArr[i].prodQty, data.itemArr[i].prodCode, data.itemArr[i].unitPrice, data.itemArr[i].netValue, data.itemArr[i].discPercentage, data.itemArr[i].discount, data.itemArr[i].vatCategory, data.itemArr[i].vatPer, data.itemArr[i].vatAmount, data.itemArr[i].prodUnit, data.itemArr[i].boqNo, this.uC, String(this.mCYear));\n            }\n          }, err => {\n            console.log(err);\n          });\n        }\n      }, err => {\n        console.log(data.quotNo);\n        this.quotationService.postQuotationMaster(data.quotNo, this.formatDate(data.quotDate), data.quotStatus, this.formatDate(data.quotExpDate), data.pcode, data.contactId, data.custName, data.custAdd1, data.custAdd2, data.custAdd3, data.custPhone1, String(this.mQtnTotal), String(this.mQtnDisc), String(this.mQtnVAT), String(this.mQtnGTotal), data.subject, data.description, data.remarks, String(this.mCYear), this.uC);\n        for (let i = 0; i < data.itemArr.length; i++) {\n          this.quotationService.postQuotationDetails(data.quotNo, data.itemArr[i].prodDesc, data.itemArr[i].remarks, data.itemArr[i].prodQty, data.itemArr[i].prodCode, data.itemArr[i].unitPrice, data.itemArr[i].netValue, data.itemArr[i].discPercentage, data.itemArr[i].discount, data.itemArr[i].vatCategory, data.itemArr[i].vatPer, data.itemArr[i].vatAmount, data.itemArr[i].prodUnit, data.itemArr[i].boqNo, this.uC, String(this.mCYear));\n        }\n        this.quotationService.updateQuotDocNo(this.docQtnNo, String(this.mCYear));\n      });\n      console.log(data);\n      this._snackBar.open(\"Data Successfully Updated!\", \"OK\");\n    }\n    refreshForm() {}\n    savePDF() {\n      console.log(this.prodDetailsArr);\n      const data = this.quotForm.value;\n      var doc = new jsPDF(\"portrait\", \"px\", \"a4\");\n      doc.setFontSize(16);\n      doc.setFont('Helvetica', 'bold');\n      doc.text('QUOTATION', 10, 87);\n      doc.setFontSize(12);\n      doc.text(`Ref: ${data.quotNo}`, 330, 86);\n      doc.line(5, 92, 440, 92);\n      doc.text(`Date: ${data.quotDate}`, 10, 103);\n      doc.line(5, 75, 5, 109);\n      doc.line(305, 75, 305, 109);\n      doc.line(440, 75, 440, 109);\n      doc.text(`VAT No: 100339666800003`, 310, 103);\n      doc.line(5, 109, 440, 109);\n      doc.text(`M/s. ${data.custName},`, 10, 120);\n      doc.setFont('Helvetica', 'normal');\n      doc.text(`${data.custAdd1}`, 10, 130);\n      doc.text(`${data.custAdd2}, ${data.custAdd3}`, 10, 140);\n      doc.text(`${data.custPhone1}, ${data.custPhone2}`, 10, 150);\n      doc.text(`${data.custEmail}`, 10, 160);\n      doc.text(`Dear ${this.custDetails.NAME},`, 10, 175);\n      doc.text(`Thank you for your valuable enquiry, please find below our discounted price for the following products.`, 10, 185);\n      //doc.line(5, 190, 440, 190);\n      doc.setFont('Helvetica', 'bold');\n      doc.text(`PROJECT:                              ${data.subject}`, 10, 205);\n      //doc.line(5, 205, 440, 205);\n      autoTable(doc, {\n        html: '#prodTable',\n        startY: 210,\n        bodyStyles: {\n          minCellHeight: 75\n        },\n        theme: 'plain',\n        tableLineColor: [105, 105, 105],\n        tableLineWidth: 0.15,\n        rowPageBreak: 'avoid',\n        showFoot: 'lastPage',\n        margin: {\n          left: 5,\n          right: 7,\n          bottom: 26,\n          top: 75\n        },\n        willDrawCell: function (data) {\n          doc.setDrawColor(105, 105, 105); // set the border color\n          doc.setLineWidth(0.15); // set the border with\n          // draw bottom border\n          doc.line(data.cell.x, data.cell.y + data.cell.height, data.cell.x + data.cell.width, data.cell.y + data.cell.height);\n          // draw top border\n          doc.line(data.cell.x + data.cell.width, data.cell.y, data.cell.x, data.cell.y);\n          // draw left border\n          // doc.line(data.cell.x,data.cell.y + data.cell.height,data.cell.x,data.cell.y);\n          // draw right border\n          // doc.line(data.cell.x + data.cell.width,data.cell.y,data.cell.x + data.cell.width,data.cell.y + data.cell.height);\n        },\n\n        didDrawCell: function (data) {\n          if (data.column.index === 4 && data.cell.section === 'body') {\n            var td = data.cell.raw;\n            console.log(td);\n            var image = new Image();\n            image = td.getElementsByTagName('img')[0];\n            console.log(image.src);\n            //img.src = 'image-url';\n            var dim = data.cell.height - data.cell.padding('vertical');\n            var textPos = data.cell.getTextPos();\n            doc.addImage(image.src, 'png', textPos.x, textPos.y, dim, dim);\n            image.onload = () => {\n              // await for the image to be fully loaded\n            };\n          }\n        },\n        columnStyles: {\n          // 0: {halign: 'right', cellWidth: 5,},\n          //  1: {halign: 'left', cellWidth: 15,},\n          //  2: {halign: 'right', cellWidth: 15,},\n          //  3: {halign: 'right', cellWidth: 100,},\n          4: {\n            cellWidth: 75\n          }\n          //  5: {halign: 'right', cellWidth: 50,},\n          //  6: {halign: 'right', cellWidth: 50,},\n          //  7: {halign: 'right', cellWidth: 50,}\n        }\n      });\n\n      doc.addPage();\n      doc.setFont('Helvetica', 'bold');\n      doc.text('Note:', 10, 85);\n      doc.setLineWidth(0.5);\n      doc.line(5, 90, 440, 90);\n      doc.setFont('Helvetica', 'normal');\n      doc.text(`1.     Please note that the quantities we have considered in our Quotation are based on the BOQ that \\n        was received from your site office.`, 15, 105);\n      doc.text(`2.     Prices are valid for above mentioned quantity. Prices may vary with any changes in the quantity.`, 15, 130);\n      doc.text(`3.     All the products quoted are based on sea shipment. If you require shipment through air, actual \\n        air freight charges will be applicable.`, 15, 145);\n      doc.line(5, 165, 440, 165);\n      doc.setFont('Helvetica', 'bold');\n      doc.text('Terms & Conditions:', 10, 175);\n      doc.line(5, 180, 440, 180);\n      doc.setFont('Helvetica', 'normal');\n      doc.text(`Validity`, 10, 195);\n      doc.text(`Availabity`, 10, 210);\n      doc.text(`Payment`, 10, 225);\n      doc.text(`Delivery`, 10, 240);\n      doc.text(`: ${data.quotExpDate}`, 100, 195);\n      doc.text(`: To be determined at the time of confirmation of the order.`, 100, 210);\n      doc.text(`: ${data.remarks}`, 100, 225);\n      doc.text(`: ${data.description}`, 100, 240);\n      doc.line(5, 250, 440, 250);\n      doc.text(`We hope that the above price is competitive to you. We look forward to receive a valuable order from you.`, 10, 275);\n      doc.text(`Best Regards,`, 10, 290);\n      doc.text(`For,`, 10, 355);\n      doc.setFont('Helvetica', 'bold');\n      doc.text(`AK PACIFIC International Gen. Trading LLC`, 10, 370);\n      doc.text(`Mansoor Ahmed`, 10, 380);\n      doc.setFont('Helvetica', 'normal');\n      doc.text(`International Business Development Manager`, 10, 390);\n      doc.text(`Mob.No: 00971 56 164 1335/055 412 1234`, 10, 400);\n      doc = this.addWaterMark(doc);\n      //doc.save(`${data.quotNo}.pdf`);  \n      var string = doc.output('datauri');\n      var iframe = \"<iframe width='100%' height='100%' src='\" + string + \"'></iframe>\";\n      var x = window.open();\n      x.document.open();\n      x.document.write(iframe);\n      x.document.close();\n    }\n    addWaterMark(doc) {\n      var totalPages = doc.internal.getNumberOfPages();\n      for (let i = 1; i <= totalPages; i++) {\n        doc.setPage(i);\n        doc.setLineWidth(0.15);\n        //doc.roundedRect(5, 5, 435, 600, 0, 0);\n        var img = new Image();\n        img.src = 'assets/pics/favicon.png';\n        doc.addImage(img, 'png', 6, 6, 69, 69);\n        doc.setFontSize(16);\n        doc.setFont('Helvetica', 'bold');\n        doc.setTextColor(255, 0, 0);\n        doc.text('AK', 80, 20);\n        doc.setTextColor(0, 0, 0);\n        doc.text('PACIFIC INTERNATIONAL GEN. TRADING LLC', 100, 20);\n        doc.setFontSize(13);\n        doc.setFont('Helvetica', 'normal');\n        doc.text('Post Box: 51389, DUBAI, United Arab Emirates', 120, 32);\n        doc.text('Tel: +971 4 386 3815 / Fax: +971 4 397 7814', 120, 44);\n        doc.setTextColor(0, 0, 255);\n        doc.setDrawColor(0, 0, 255);\n        doc.setLineWidth(0.5);\n        doc.text('www.ak-pacific.com', 180, 56);\n        doc.line(180, 58, 267, 58);\n        doc.setTextColor(0, 0, 0);\n        doc.setDrawColor(0, 0, 0);\n        doc.setFont('Helvetica', 'bold');\n        doc.text('A subsidiary of       Group', 165, 70);\n        doc.setTextColor(255, 0, 0);\n        doc.text('AK', 238, 70);\n        doc.line(5, 75, 440, 75);\n        doc.setFont('Helvetica', 'normal');\n        doc.setTextColor(0, 0, 0);\n        doc.text(`Page ${i} of ${totalPages}`, 390, 615);\n      }\n      return doc;\n    }\n    lookupPriceDialog(index) {\n      const data = this.quotForm.value;\n      console.log(data);\n      console.log(this.prodItem.at(index).value);\n      let dialogRef = this.dialog.open(this.priceLookUpDialog);\n      var value;\n      if (this.prodItem.at(index).value.value === '') {\n        value = Number(this.prodItem.at(index).value.prodQty) * Number(this.prodItem.at(index).value.unitPrice);\n      } else {\n        value = this.prodItem.at(index).value.value;\n      }\n      this.valueForm = new UntypedFormGroup({\n        index: new UntypedFormControl(index, [Validators.required]),\n        boqNo: new UntypedFormControl(this.prodItem.at(index).value.boqNo, [Validators.required]),\n        prodCode: new UntypedFormControl(this.prodItem.at(index).value.prodCode, [Validators.required]),\n        prodDesc: new UntypedFormControl(this.prodItem.at(index).value.prodDesc, [Validators.required]),\n        quantity: new UntypedFormControl(this.prodItem.at(index).value.prodQty, [Validators.required]),\n        unitPrice: new UntypedFormControl(this.prodItem.at(index).value.unitPrice, [Validators.required]),\n        value: new UntypedFormControl(value, [Validators.required]),\n        discPercentage: new UntypedFormControl(this.prodItem.at(index).value.discPercentage, [Validators.required]),\n        discount: new UntypedFormControl(this.prodItem.at(index).value.discount, [Validators.required]),\n        amount: new UntypedFormControl(this.prodItem.at(index).value.amount, [Validators.required]),\n        vatCategory: new UntypedFormControl(this.prodItem.at(index).value.vatCategory, [Validators.required]),\n        vatPer: new UntypedFormControl(this.prodItem.at(index).value.vatPer, [Validators.required]),\n        vatAmount: new UntypedFormControl(this.prodItem.at(index).value.vatAmount, [Validators.required]),\n        netValue: new UntypedFormControl(this.prodItem.at(index).value.netValue, [Validators.required]),\n        remarks: new UntypedFormControl(this.prodItem.at(index).value.remarks, [Validators.required])\n      });\n      this.calcPrice();\n      this.calcDiscount();\n      this.calcTax(this.taxArr[0]);\n    }\n    lookupCustomerDetails(code) {\n      this.selectedRowIndex = 0;\n      let dialogRef = this.dialog.open(this.custLookupDialog);\n      this.financeService.searchCustomer(code).subscribe(res => {\n        console.log(res);\n        this.custArr = res.recordset;\n        this.custDataSource = new MatTableDataSource(this.custArr);\n      }, err => {\n        console.log(err);\n      });\n    }\n    lookupProductDetails(code, index) {\n      this.selectedRowIndex = 0;\n      this.productIndex = index;\n      let dialogRef = this.dialog.open(this.prodLookupDialog);\n      this.productService.searchProduct(code).subscribe(res => {\n        console.log(res);\n        this.prodArr = res.recordset;\n        this.prodDataSource = new MatTableDataSource(this.prodArr);\n      }, err => {\n        console.log(err);\n      });\n    }\n    getProductDetails(index) {\n      this.prodDetails = {};\n      this.slides = [];\n      this.productService.getProduct(this.prodItem.at(index).value.prodCode, String(this.mCYear)).subscribe(res => {\n        console.log(res.recordset[0]);\n        this.prodDetails = res.recordset[0];\n        this.productService.getProductDocuments(this.prodItem.at(index).value.prodCode, 'IMG').subscribe(respo => {\n          if (respo.recordset.length === 0) {\n            var img = {\n              src: \"https://ifaqtworks-akpacific.s3.me-south-1.amazonaws.com/images/imgNaN.png\"\n            };\n            this.slides.push(img);\n          } else {\n            for (let i = 0; i < respo.recordset.length; i++) {\n              const docUrl = \"https://ifaqtworks-akpacific.s3.me-south-1.amazonaws.com/images/\" + respo.recordset[i].DOCUMENTNAME;\n              var img = {\n                src: docUrl\n              };\n              this.slides.push(img);\n            }\n            console.log(this.slides);\n          }\n        }, err => {\n          var img = {\n            src: \"https://ifaqtworks-akpacific.s3.me-south-1.amazonaws.com/images/imgNaN.png\"\n          };\n          this.slides.push(img);\n        });\n      });\n      let dialogRef = this.dialog.open(this.prodDetailsDialog);\n    }\n    calcDiscount() {\n      const data = this.valueForm.value;\n      var discount = Number(data.value) * Number(data.discPercentage) / 100;\n      var gross = Number(data.value) - discount;\n      this.valueForm.patchValue({\n        discount: discount,\n        amount: gross\n      });\n    }\n    calibrateTotal() {\n      this.mQtnTotal = 0;\n      this.mQtnDisc = 0;\n      this.mQtnVAT = 0;\n      this.mQtnGTotal = 0;\n      const data = this.quotForm.value;\n      for (let i = 0; i < data.itemArr.length; i++) {\n        this.mQtnTotal += data.itemArr[i].value;\n        this.mQtnDisc += data.itemArr[i].discount;\n        this.mQtnVAT += data.itemArr[i].vatAmount;\n        this.mQtnGTotal += data.itemArr[i].netValue;\n      }\n    }\n    calcPrice() {\n      const data = this.valueForm.value;\n      var value = Number(data.quantity) * Number(data.unitPrice);\n      this.valueForm.patchValue({\n        value: value\n      });\n      this.calcDiscount();\n      this.calcTax(this.taxArr[0]);\n    }\n    calcTax(event) {\n      const data = this.valueForm.value;\n      var taxVal = Number(data.amount) * Number(event.TAX_1_PERC) / 100;\n      var netValue = Number(data.amount) + taxVal;\n      console.log(taxVal);\n      this.valueForm.patchValue({\n        vatCategory: event.TAX_CATEGORY_ID,\n        vatPer: event.TAX_1_PERC,\n        vatAmount: taxVal,\n        netValue: netValue\n      });\n    }\n    selectCustomer(event) {\n      this.quotForm.patchValue({\n        pcode: event.PCODE,\n        custName: event.CUST_NAME,\n        custPhone1: event.PHONE1,\n        custPhone2: event.PHONE2,\n        custEmail: event.EMAIL,\n        custAdd1: event.ADD1,\n        custAdd2: event.ADD2,\n        custAdd3: event.ADD3,\n        contactId: event.CONTACT\n      });\n      let dialogRef = this.dialog.closeAll();\n    }\n    selectProduct(event) {\n      const rowData = {\n        prodCode: event.PCODE,\n        prodDesc: event.DESCRIPTION,\n        unitPrice: event.RETAILPRICE\n      };\n      this.prodItem.at(this.productIndex).patchValue(rowData);\n      let dialogRef = this.dialog.closeAll();\n    }\n    highlight(type, index) {\n      console.log(index);\n      if (type === \"cust\") {\n        if (index >= 0 && index <= this.custArr.length - 1) this.selectedRowIndex = index;\n      } else if (type === \"prod\") {\n        if (index >= 0 && index <= this.prodArr.length - 1) this.selectedRowIndex = index;\n      }\n    }\n    arrowUpEvent(type, index) {\n      this.highlight(type, --index);\n    }\n    arrowDownEvent(type, index) {\n      this.highlight(type, ++index);\n    }\n    submitPrice() {\n      const data = this.valueForm.value;\n      const rowData = {\n        boqNo: data.boqNo,\n        prodQty: data.quantity,\n        unitPrice: data.unitPrice,\n        value: data.value,\n        discPercentage: data.discPercentage,\n        discount: data.discount,\n        amount: data.amount,\n        vatCategory: data.vatCategory,\n        vatPer: data.vatPer,\n        vatAmount: data.vatAmount,\n        netValue: data.netValue,\n        remarks: data.remarks\n      };\n      this.prodItem.at(data.index).patchValue(rowData);\n      this.calibrateTotal();\n      let dialogRef = this.dialog.closeAll();\n    }\n    deleteProductItem(index) {\n      if (this.prodItem.length === 1) {} else {\n        this.prodItem.removeAt(index);\n      }\n      this.calibrateTotal();\n    }\n    addProductItem() {\n      const prodGrid = new UntypedFormGroup({\n        boqNo: new UntypedFormControl('', [Validators.required]),\n        prodCode: new UntypedFormControl('', [Validators.required]),\n        prodDesc: new UntypedFormControl('', [Validators.required]),\n        prodUnit: new UntypedFormControl('', [Validators.required]),\n        prodQty: new UntypedFormControl('', [Validators.required]),\n        unitPrice: new UntypedFormControl('', [Validators.required]),\n        value: new UntypedFormControl('', [Validators.required]),\n        discPercentage: new UntypedFormControl('0', [Validators.required]),\n        discount: new UntypedFormControl('', [Validators.required]),\n        vatCategory: new UntypedFormControl('', [Validators.required]),\n        vatPer: new UntypedFormControl('', [Validators.required]),\n        vatAmount: new UntypedFormControl('', [Validators.required]),\n        netValue: new UntypedFormControl('', [Validators.required]),\n        remarks: new UntypedFormControl('', [Validators.required])\n      });\n      this.prodItem.push(prodGrid);\n    }\n    get prodItem() {\n      return this.quotForm.get('itemArr');\n    }\n    formatDate(date) {\n      var d = new Date(date),\n        day = '' + d.getDate(),\n        month = '' + (d.getMonth() + 1),\n        year = d.getFullYear();\n      if (day.length < 2) {\n        day = '0' + day;\n      }\n      if (month.length < 2) {\n        month = '0' + month;\n      }\n      return [day, month, year].join('-');\n    }\n    static #_ = this.ɵfac = function QuotationsDetailsComponent_Factory(t) {\n      return new (t || QuotationsDetailsComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.QuotationsService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i4.FinanceService), i0.ɵɵdirectiveInject(i5.ProductsService), i0.ɵɵdirectiveInject(i6.MatSnackBar), i0.ɵɵdirectiveInject(LOCALE_ID));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: QuotationsDetailsComponent,\n      selectors: [[\"app-quotations-details\"]],\n      viewQuery: function QuotationsDetailsComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 5);\n          i0.ɵɵviewQuery(_c1, 5);\n          i0.ɵɵviewQuery(_c2, 5);\n          i0.ɵɵviewQuery(_c3, 5);\n          i0.ɵɵviewQuery(_c4, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.priceLookUpDialog = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.custLookupDialog = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.prodLookupDialog = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.prodDetailsDialog = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.prodTable = _t.first);\n        }\n      },\n      decls: 253,\n      vars: 41,\n      consts: [[1, \"container-fluid\"], [1, \"row\", \"no-gutters\"], [1, \"visualization-heading\", \"col-12\"], [1, \"heading-info\", \"row\"], [1, \"col-6\"], [1, \"heading-title\"], [1, \"row\"], [1, \"col\"], [\"title\", \"New Quotation\", 1, \"btn-primary\", \"text-white\", \"btn\", \"btn-block\", \"btn-sm\", 3, \"click\"], [\"title\", \"Print Quotation\", 1, \"btn-warning\", \"text-white\", \"btn\", \"btn-block\", \"btn-sm\", 3, \"click\"], [\"title\", \"Submit Quotation\", 1, \"btn-success\", \"text-white\", \"btn\", \"btn-block\", \"btn-sm\", 3, \"click\"], [\"title\", \"Refresh form\", 1, \"btn-danger\", \"text-white\", \"btn\", \"btn-block\", \"btn-sm\", 3, \"click\"], [\"title\", \"Return to Quotation List\", 1, \"btn-dark\", \"text-white\", \"btn\", \"btn-block\", \"btn-sm\", 3, \"routerLink\"], [1, \"col-12\"], [1, \"form-container\", 3, \"formGroup\"], [1, \"col-7\"], [1, \"col-4\"], [1, \"full-width\"], [\"matInput\", \"\", \"formControlName\", \"quotNo\", \"matInput\", \"\", \"required\", \"\", 3, \"keydown.enter\"], [\"quotNo\", \"\"], [\"type\", \"text\", \"formControlName\", \"quotDate\", \"matInput\", \"\"], [\"matInput\", \"\", \"formControlName\", \"quotExpDate\", 3, \"matDatepicker\"], [\"matSuffix\", \"\", 3, \"for\"], [\"expDatePicker\", \"\"], [1, \"col-9\"], [\"type\", \"text\", \"formControlName\", \"subject\", \"matInput\", \"\"], [1, \"col-3\"], [\"formControlName\", \"quotStatus\"], [\"value\", \"O\"], [\"value\", \"A\"], [\"value\", \"R\"], [\"value\", \"E\"], [\"type\", \"text\", \"formControlName\", \"remarks\", \"matInput\", \"\"], [\"type\", \"text\", \"formControlName\", \"description\", \"matInput\", \"\"], [3, \"vertical\"], [\"formControlName\", \"pcode\", \"matInput\", \"\", \"required\", \"\", 3, \"keydown.f2\"], [\"pcode\", \"\"], [1, \"col-8\"], [\"type\", \"text\", \"formControlName\", \"custName\", \"matInput\", \"\", 3, \"keydown.f2\"], [\"name\", \"\"], [\"type\", \"text\", \"formControlName\", \"custAdd1\", \"matInput\", \"\"], [\"type\", \"text\", \"formControlName\", \"custAdd2\", \"matInput\", \"\"], [\"type\", \"text\", \"formControlName\", \"custAdd3\", \"matInput\", \"\"], [\"type\", \"text\", \"formControlName\", \"custPhone1\", \"matInput\", \"\"], [\"type\", \"text\", \"formControlName\", \"custPhone2\", \"matInput\", \"\"], [\"type\", \"text\", \"formControlName\", \"custEmail\", \"matInput\", \"\"], [\"formArrayName\", \"itemArr\", 1, \"table\", \"table-borderless\", \"table-hover\", \"table-responsive-xxl\"], [1, \"table-reflow\", 2, \"background-color\", \"rgb(2, 46, 82)\", \"color\", \"white\"], [2, \"width\", \"5%\"], [2, \"width\", \"11%\"], [2, \"width\", \"30%\"], [2, \"width\", \"13%\"], [2, \"width\", \"7.5%\"], [2, \"width\", \"10%\"], [3, \"formGroupName\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", 3, \"click\"], [2, \"color\", \"darkblue\"], [1, \"col-6\", 2, \"float\", \"right\"], [\"style\", \"width: 80%;\"], [\"priceLookUpDialog\", \"\"], [\"style\", \"width: 60%;\"], [\"custLookupDialog\", \"\"], [\"prodLookupDialog\", \"\"], [\"prodDetailsDialog\", \"\"], [\"id\", \"prodTable\", 1, \"table\", \"table-hover\", \"table-responsive-xxl\", \"table-bordered\", 2, \"width\", \"100%\"], [\"prodTable\", \"\"], [1, \"table-reflow\"], [4, \"ngFor\", \"ngForOf\"], [\"colspan\", \"7\"], [2, \"float\", \"right\"], [\"colspan\", \"8\"], [2, \"float\", \"centre\"], [3, \"formGroupName\"], [\"type\", \"button\", 1, \"btn\", \"btn-light\", 3, \"click\"], [\"type\", \"text\", \"formControlName\", \"boqNo\", 1, \"form-control\", \"form-control-sm\"], [\"type\", \"text\", \"formControlName\", \"prodCode\", \"title\", \"Press fn + F2 to open Product search\", 1, \"form-control\", \"form-control-sm\", 3, \"keydown.f2\"], [\"prodCode\", \"\"], [\"formControlName\", \"prodDesc\", \"title\", \"Press fn + F2 to open Product search\", 1, \"form-control\", \"form-control-sm\", 3, \"keydown.f2\"], [\"prodDesc\", \"\"], [\"formControlName\", \"prodUnit\", 1, \"form-control\", \"form-control-sm\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"text\", \"formControlName\", \"prodQty\", 1, \"form-control\", \"form-control-sm\"], [\"type\", \"text\", \"formControlName\", \"unitPrice\", 1, \"form-control\", \"form-control-sm\"], [\"type\", \"text\", \"formControlName\", \"netValue\", 1, \"form-control\", \"form-control-sm\", 3, \"keydown.f2\", \"valueChange\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", 3, \"click\"], [3, \"value\"], [\"matDialogTitle\", \"\"], [\"type\", \"text\", \"formControlName\", \"remarks\", \"matInput\", \"\", \"readonly\", \"\"], [\"type\", \"text\", \"formControlName\", \"prodCode\", \"matInput\", \"\", \"readonly\", \"\"], [\"type\", \"text\", \"formControlName\", \"prodDesc\", \"matInput\", \"\", \"readonly\", \"\"], [\"type\", \"text\", \"formControlName\", \"quantity\", \"matInput\", \"\", 3, \"change\"], [\"type\", \"text\", \"formControlName\", \"unitPrice\", \"matInput\", \"\", 3, \"change\"], [\"type\", \"text\", \"formControlName\", \"value\", \"matInput\", \"\", \"readonly\", \"\"], [\"type\", \"text\", \"formControlName\", \"discPercentage\", \"matInput\", \"\", 3, \"change\"], [\"type\", \"text\", \"formControlName\", \"discount\", \"matInput\", \"\", \"readonly\", \"\"], [\"type\", \"text\", \"formControlName\", \"amount\", \"matInput\", \"\", \"readonly\", \"\"], [3, \"valueChange\"], [\"type\", \"text\", \"formControlName\", \"vatAmount\", \"matInput\", \"\", \"readonly\", \"\"], [\"type\", \"text\", \"formControlName\", \"netValue\", \"matInput\", \"\", \"readonly\", \"\"], [\"align\", \"end\"], [\"mat-dialog-content\", \"\"], [\"mat-table\", \"\", 1, \"mat-elevation-z8\", 2, \"width\", \"65vw\", \"height\", \"50vh\", 3, \"dataSource\"], [\"matColumnDef\", \"PCODE\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"CUST_NAME\"], [\"matColumnDef\", \"TAX_1_NO\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", \"tabindex\", \"999\", 3, \"ngClass\", \"click\", \"keydown.arrowdown\", \"keydown.arrowup\", \"keydown.enter\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"mat-button\", \"\", \"matDialogClose\", \"close\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\", \"tabindex\", \"999\", 3, \"ngClass\", \"click\", \"keydown.arrowdown\", \"keydown.arrowup\", \"keydown.enter\"], [\"matColumnDef\", \"DESCRIPTION\"], [\"matColumnDef\", \"RETAILPRICE\"], [\"matColumnDef\", \"BARCODE\"], [\"class\", \"col-4\", 4, \"ngFor\", \"ngForOf\"], [3, \"src\"], [2, \"height\", \"100%\", 3, \"src\"]],\n      template: function QuotationsDetailsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r79 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h3\", 5);\n          i0.ɵɵtext(6, \"Quotation Management\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(7, \"div\", 4)(8, \"div\", 6)(9, \"div\", 7)(10, \"button\", 8);\n          i0.ɵɵlistener(\"click\", function QuotationsDetailsComponent_Template_button_click_10_listener() {\n            return ctx.newForm();\n          });\n          i0.ɵɵelementStart(11, \"mat-icon\");\n          i0.ɵɵtext(12, \"add\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(13, \"div\", 7)(14, \"button\", 9);\n          i0.ɵɵlistener(\"click\", function QuotationsDetailsComponent_Template_button_click_14_listener() {\n            return ctx.savePDF();\n          });\n          i0.ɵɵelementStart(15, \"mat-icon\");\n          i0.ɵɵtext(16, \"print\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(17, \"div\", 7)(18, \"button\", 10);\n          i0.ɵɵlistener(\"click\", function QuotationsDetailsComponent_Template_button_click_18_listener() {\n            return ctx.submitForm();\n          });\n          i0.ɵɵelementStart(19, \"mat-icon\");\n          i0.ɵɵtext(20, \"note_add\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(21, \"div\", 7)(22, \"button\", 11);\n          i0.ɵɵlistener(\"click\", function QuotationsDetailsComponent_Template_button_click_22_listener() {\n            return ctx.refreshForm();\n          });\n          i0.ɵɵelementStart(23, \"mat-icon\");\n          i0.ɵɵtext(24, \"refresh\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(25, \"div\", 7)(26, \"button\", 12)(27, \"mat-icon\");\n          i0.ɵɵtext(28, \"arrow_back\");\n          i0.ɵɵelementEnd()()()()()()()();\n          i0.ɵɵelement(29, \"hr\");\n          i0.ɵɵelementStart(30, \"div\", 13)(31, \"form\", 14)(32, \"div\", 6)(33, \"div\", 15)(34, \"div\", 6)(35, \"div\", 16)(36, \"mat-form-field\", 17)(37, \"mat-label\");\n          i0.ɵɵtext(38, \"Quotation Number \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(39, \"input\", 18, 19);\n          i0.ɵɵlistener(\"keydown.enter\", function QuotationsDetailsComponent_Template_input_keydown_enter_39_listener() {\n            i0.ɵɵrestoreView(_r79);\n            const _r0 = i0.ɵɵreference(40);\n            return i0.ɵɵresetView(ctx.getQuotationDetails(_r0.value));\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(41, \"div\", 16)(42, \"mat-form-field\", 17)(43, \"mat-label\");\n          i0.ɵɵtext(44, \"Quotation Date\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(45, \"input\", 20);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(46, \"div\", 16)(47, \"mat-form-field\", 17)(48, \"mat-label\");\n          i0.ɵɵtext(49, \"Due Date\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(50, \"input\", 21)(51, \"mat-datepicker-toggle\", 22)(52, \"mat-datepicker\", null, 23);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(54, \"div\", 6)(55, \"div\", 24)(56, \"mat-form-field\", 17)(57, \"mat-label\");\n          i0.ɵɵtext(58, \"Subject\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(59, \"input\", 25);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(60, \"div\", 26)(61, \"mat-form-field\", 17)(62, \"mat-label\");\n          i0.ɵɵtext(63, \"Status\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(64, \"mat-select\", 27)(65, \"mat-option\", 28);\n          i0.ɵɵtext(66, \"Open\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(67, \"mat-option\", 29);\n          i0.ɵɵtext(68, \"Approved\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(69, \"mat-option\", 30);\n          i0.ɵɵtext(70, \"Revised\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(71, \"mat-option\", 31);\n          i0.ɵɵtext(72, \"Expired\");\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵelementStart(73, \"div\", 6)(74, \"div\", 4)(75, \"mat-form-field\", 17)(76, \"mat-label\");\n          i0.ɵɵtext(77, \"Remarks\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(78, \"input\", 32);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(79, \"div\", 4)(80, \"mat-form-field\", 17)(81, \"mat-label\");\n          i0.ɵɵtext(82, \"Description\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(83, \"input\", 33);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelement(84, \"mat-divider\", 34);\n          i0.ɵɵelementStart(85, \"div\", 7)(86, \"div\", 6)(87, \"div\", 16)(88, \"mat-form-field\", 17)(89, \"mat-label\");\n          i0.ɵɵtext(90, \"Customer Code\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(91, \"input\", 35, 36);\n          i0.ɵɵlistener(\"keydown.f2\", function QuotationsDetailsComponent_Template_input_keydown_f2_91_listener() {\n            i0.ɵɵrestoreView(_r79);\n            const _r2 = i0.ɵɵreference(92);\n            return i0.ɵɵresetView(ctx.lookupCustomerDetails(_r2.value));\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(93, \"div\", 37)(94, \"mat-form-field\", 17)(95, \"mat-label\");\n          i0.ɵɵtext(96, \"Customer Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(97, \"input\", 38, 39);\n          i0.ɵɵlistener(\"keydown.f2\", function QuotationsDetailsComponent_Template_input_keydown_f2_97_listener() {\n            i0.ɵɵrestoreView(_r79);\n            const _r3 = i0.ɵɵreference(98);\n            return i0.ɵɵresetView(ctx.lookupCustomerDetails(_r3.value));\n          });\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(99, \"div\", 6)(100, \"div\", 16)(101, \"mat-form-field\", 17)(102, \"mat-label\");\n          i0.ɵɵtext(103, \"Address 1\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(104, \"input\", 40);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(105, \"div\", 16)(106, \"mat-form-field\", 17)(107, \"mat-label\");\n          i0.ɵɵtext(108, \"Address 2\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(109, \"input\", 41);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(110, \"div\", 16)(111, \"mat-form-field\", 17)(112, \"mat-label\");\n          i0.ɵɵtext(113, \"Address 3\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(114, \"input\", 42);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(115, \"div\", 6)(116, \"div\", 16)(117, \"mat-form-field\", 17)(118, \"mat-label\");\n          i0.ɵɵtext(119, \"Phone 1\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(120, \"input\", 43);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(121, \"div\", 16)(122, \"mat-form-field\", 17)(123, \"mat-label\");\n          i0.ɵɵtext(124, \"Phone 2\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(125, \"input\", 44);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(126, \"div\", 16)(127, \"mat-form-field\", 17)(128, \"mat-label\");\n          i0.ɵɵtext(129, \"Email\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(130, \"input\", 45);\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵelement(131, \"br\");\n          i0.ɵɵelementStart(132, \"div\", 6)(133, \"div\", 13)(134, \"table\", 46)(135, \"thead\")(136, \"tr\", 47);\n          i0.ɵɵelement(137, \"th\", 48);\n          i0.ɵɵelementStart(138, \"th\", 49);\n          i0.ɵɵtext(139, \"BOQ Ref.\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(140, \"th\", 49);\n          i0.ɵɵtext(141, \"Product\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(142, \"th\", 50);\n          i0.ɵɵtext(143, \"Description\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(144, \"th\", 51);\n          i0.ɵɵtext(145, \"Unit\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(146, \"th\", 52);\n          i0.ɵɵtext(147, \"Qty.\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(148, \"th\", 52);\n          i0.ɵɵtext(149, \"Price\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(150, \"th\", 53);\n          i0.ɵɵtext(151, \"Net Value\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(152, \"th\", 48);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(153, \"tbody\");\n          i0.ɵɵtemplate(154, QuotationsDetailsComponent_tr_154_Template, 25, 2, \"tr\", 54);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(155, \"button\", 55);\n          i0.ɵɵlistener(\"click\", function QuotationsDetailsComponent_Template_button_click_155_listener() {\n            return ctx.addProductItem();\n          });\n          i0.ɵɵtext(156, \"+\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelement(157, \"hr\");\n          i0.ɵɵelementStart(158, \"div\", 6)(159, \"div\", 13)(160, \"div\", 6);\n          i0.ɵɵelement(161, \"div\", 37);\n          i0.ɵɵelementStart(162, \"div\", 16)(163, \"div\", 6)(164, \"div\", 4)(165, \"h6\", 56);\n          i0.ɵɵtext(166, \"Total:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(167, \"h6\", 56);\n          i0.ɵɵtext(168, \"Discount:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(169, \"h6\", 56);\n          i0.ɵɵtext(170, \"VAT:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(171, \"hr\");\n          i0.ɵɵelementStart(172, \"h5\", 56);\n          i0.ɵɵtext(173, \"Grand Total:\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(174, \"div\", 57)(175, \"h6\", 56);\n          i0.ɵɵtext(176);\n          i0.ɵɵpipe(177, \"number\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(178, \"h6\", 56);\n          i0.ɵɵtext(179);\n          i0.ɵɵpipe(180, \"number\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(181, \"h6\", 56);\n          i0.ɵɵtext(182);\n          i0.ɵɵpipe(183, \"number\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(184, \"hr\");\n          i0.ɵɵelementStart(185, \"h5\", 56);\n          i0.ɵɵtext(186);\n          i0.ɵɵpipe(187, \"number\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelement(188, \"hr\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(189, \"div\", 13);\n          i0.ɵɵtemplate(190, QuotationsDetailsComponent_ng_template_190_Template, 73, 2, \"ng-template\", 58, 59, i0.ɵɵtemplateRefExtractor);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(192, \"div\", 13);\n          i0.ɵɵtemplate(193, QuotationsDetailsComponent_ng_template_193_Template, 20, 4, \"ng-template\", 60, 61, i0.ɵɵtemplateRefExtractor);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(195, \"div\", 13);\n          i0.ɵɵtemplate(196, QuotationsDetailsComponent_ng_template_196_Template, 23, 4, \"ng-template\", 60, 62, i0.ɵɵtemplateRefExtractor);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(198, \"div\", 13);\n          i0.ɵɵtemplate(199, QuotationsDetailsComponent_ng_template_199_Template, 12, 3, \"ng-template\", 60, 63, i0.ɵɵtemplateRefExtractor);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(201, \"table\", 64, 65)(203, \"thead\")(204, \"tr\", 66)(205, \"th\");\n          i0.ɵɵtext(206, \"S. N\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(207, \"th\");\n          i0.ɵɵtext(208, \"BOQ Ref.\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(209, \"th\");\n          i0.ɵɵtext(210, \"Product Code\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(211, \"th\");\n          i0.ɵɵtext(212, \"Description\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(213, \"th\");\n          i0.ɵɵtext(214, \"Image\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(215, \"th\");\n          i0.ɵɵtext(216, \"Qty\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(217, \"th\");\n          i0.ɵɵtext(218, \"Price (AED)\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(219, \"th\");\n          i0.ɵɵtext(220, \"Amount (AED)\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(221, \"tbody\");\n          i0.ɵɵtemplate(222, QuotationsDetailsComponent_tr_222_Template, 19, 14, \"tr\", 67);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(223, \"tfoot\")(224, \"tr\")(225, \"th\", 68)(226, \"p\", 69);\n          i0.ɵɵtext(227, \"TOTAL AMOUNT (AED)\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(228, \"br\");\n          i0.ɵɵelementStart(229, \"p\", 69);\n          i0.ɵɵtext(230, \"TOTAL DISCOUNT (AED)\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(231, \"br\");\n          i0.ɵɵelementStart(232, \"p\", 69);\n          i0.ɵɵtext(233, \"TOTAL VAT (AED)\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(234, \"br\");\n          i0.ɵɵelementStart(235, \"p\", 69);\n          i0.ɵɵtext(236, \"GRAND TOTAL INCLUDING VAT (AED)\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(237, \"th\");\n          i0.ɵɵtext(238);\n          i0.ɵɵpipe(239, \"number\");\n          i0.ɵɵelement(240, \"br\");\n          i0.ɵɵtext(241);\n          i0.ɵɵpipe(242, \"number\");\n          i0.ɵɵelement(243, \"br\");\n          i0.ɵɵtext(244);\n          i0.ɵɵpipe(245, \"number\");\n          i0.ɵɵelement(246, \"br\");\n          i0.ɵɵtext(247);\n          i0.ɵɵpipe(248, \"number\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(249, \"tr\")(250, \"th\", 70)(251, \"p\", 71);\n          i0.ɵɵtext(252);\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          const _r1 = i0.ɵɵreference(53);\n          i0.ɵɵadvance(26);\n          i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(40, _c6));\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"formGroup\", ctx.quotForm);\n          i0.ɵɵadvance(19);\n          i0.ɵɵproperty(\"matDatepicker\", _r1);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"for\", _r1);\n          i0.ɵɵadvance(33);\n          i0.ɵɵproperty(\"vertical\", true);\n          i0.ɵɵadvance(70);\n          i0.ɵɵproperty(\"ngForOf\", ctx.prodItem == null ? null : ctx.prodItem.controls);\n          i0.ɵɵadvance(22);\n          i0.ɵɵtextInterpolate1(\"AED \", i0.ɵɵpipeBind2(177, 16, ctx.mQtnTotal, \"1.2\"), \"\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\"AED \", i0.ɵɵpipeBind2(180, 19, ctx.mQtnDisc, \"1.2\"), \"\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\"AED \", i0.ɵɵpipeBind2(183, 22, ctx.mQtnVAT, \"1.2\"), \"\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate1(\"AED \", i0.ɵɵpipeBind2(187, 25, ctx.mQtnGTotal, \"1.2\"), \"\");\n          i0.ɵɵadvance(36);\n          i0.ɵɵproperty(\"ngForOf\", ctx.prodDetailsArr);\n          i0.ɵɵadvance(16);\n          i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(239, 28, ctx.mQtnTotal, \"2.2\"), \"\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(242, 31, ctx.mQtnDisc, \"2.2\"), \"\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(245, 34, ctx.mQtnVAT, \"2.2\"), \"\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(248, 37, ctx.mQtnGTotal, \"2.2\"), \" \");\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate1(\"AMOUNT AED \", ctx.mQtnNumToWords.toUpperCase(), \" ONLY\");\n        }\n      },\n      dependencies: [i7.MatIcon, i8.NgClass, i8.NgForOf, i9.MatFormField, i9.MatLabel, i9.MatSuffix, i10.MatInput, i11.MatDatepicker, i11.MatDatepickerInput, i11.MatDatepickerToggle, i12.MatTable, i12.MatHeaderCellDef, i12.MatHeaderRowDef, i12.MatColumnDef, i12.MatCellDef, i12.MatRowDef, i12.MatHeaderCell, i12.MatCell, i12.MatHeaderRow, i12.MatRow, i13.MatButton, i1.MatDialogClose, i1.MatDialogTitle, i1.MatDialogContent, i1.MatDialogActions, i14.MatSelect, i15.MatOption, i16.MatDivider, i17.ɵNgNoValidate, i17.NgSelectOption, i17.ɵNgSelectMultipleOption, i17.DefaultValueAccessor, i17.SelectControlValueAccessor, i17.NgControlStatus, i17.NgControlStatusGroup, i17.RequiredValidator, i17.FormGroupDirective, i17.FormControlName, i17.FormGroupName, i17.FormArrayName, i3.RouterLink, i8.DecimalPipe],\n      styles: [\".full-width[_ngcontent-%COMP%]{width:100%;height:40%}mat-form-field[_ngcontent-%COMP%]{font-size:13px;width:100%;height:75%}.container-fluid[_ngcontent-%COMP%]{color:#00008b;background:rgb(251,252,249)}.highlight[_ngcontent-%COMP%]{background:lightgray}tr[_ngcontent-%COMP%]:focus{outline:none}\"]\n    });\n  }\n  return QuotationsDetailsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}